{% extends "base.html" %}

{% block content %}

<div class="container my-4">
    <div class="card mx-auto bg-dark shadow text-white">
        <p class="fs-1 mx-auto">Your Registered Information</p>
        <div class="card-body border mx-2 mb-2">
          <div class="d-flex justify-content-between">
            <h5 class="card-title">{{user.name}}</h5>
            <p class="card-title">Role - <span>{{user.user_type}}</span></p>
                <p class="card-text">Email - {{user.email}}</p>
                <p class="card-text">Phone - {{user.phone}}</p>
                <a href="/edit-profile/" class="btn btn-primary">Edit Info</a>
                <a href="#" class="btn btn-danger">Delete Account</a>
                <a href="{% url 'add-book'%}" class="btn btn-success">Add Book</a>
          </div>
          
        </div>
    </div>

    {% if request.session.userRole == 'SELLER' %}
    <div>
      <p class="fs-2 mt-5">Your Uploaded Books</p>
      <table class="table">
          <thead>
            <tr>
              <th scope="col">S.No</th>
              <th scope="col">Book Image</th>
              <th scope="col">Writer</th>
              <th scope="col">Title </th>
              <th scope="col">Price</th>
              <th scope="col">Description</th>
              <th scope="col">Category</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
           {% for book in books %}
  
           <tr>
              <th scope="row">{{forloop.counter}}</th>
              <td><img src="{{book.book_image.url}}" class="card-img-top" style="width:100px" alt="..." /></td>
              <td>{{book.title}}</td>
              <td>{{book.writer}}</td>
              <td>{{book.price}}</td>
              <td>{{book.description}}</td>
              <td>{{book.category}}</td>
              <td class='d-flex'>
                  <a href="/edit-book/{{book.id}}"class='btn btn-primary me-3'>Edit</a>
                  <a href=""class='btn btn-danger'>Delete</a>
              </td>
            </tr>
           {% endfor %}
            
          </tbody>
      </table>
  </div>
  {% endif %}
</div>
{% endblock %}